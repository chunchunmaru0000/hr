счет ФлагиФйлв (
	Чтение 0,
	Запись 1,
	ЧтениеЗапись 2,

	Создать 64,
	ТолькоСоздать 128,

	Обрезать 512,
	Добавить 1024,

	DIRECT    16384,   ; 0x4000 - Прямой ввод-вывод (минуя кэш)
	NONBLOCK  2048,    ; 0x800  - Неблокирующий режим
	SYNC      1052672, ; 0x101000 - Синхронные записи (ждать сброса на диск)
	DSYNC     4096,    ; 0x1000 - Синхронные записи данных (не метаданных)
	NOCTTY    256,     ; 0x100 - Не делать файл управляющим терминалом
	NOFOLLOW  131072,  ; 0x20000 - Не следовать симлинкам

	DIRECTORY 65536,   ; 0x10000 - Открыть только если это директория
	NOATIME   262144,  ; 0x40000 - Не обновлять atime (время доступа)
	PATH      2097152, ; 0x200000 - Открыть только для операций с путем
	TMPFILE   4259840, ; 0x410000 - Создать безымянный временный файл
	ACCMODE   3,       ; 0x3 - Маска для извлечения O_RDONLY/O_WRONLY/O_RDWR
	LARGEFILE 32768,   ; 0x8000 - Поддержка больших файлов (>2GB)
)

; ID - ОН - Особый Номер
счет ПраваФйлв (
	СамЧитать       0400,  ; S_IRUSR = 0400 / 0x100 - Владелец может читать (r--)
	СамПисать       0200,  ; S_IWUSR = 0200 / 0x80  - Владелец может писать (-w-)
	СамИсполнять    0100,  ; S_IXUSR = 0100 / 0x40  - Владелец может исполнять (--x)
	СамВсе          0700,  ; S_IRWXU = 0700 / 0x1C0 - Владелец может всё (rwx)

	ГруппаЧитать    0040,  ; S_IRGRP = 0040 / 0x20 - Группа может читать
	ГруппаПисать    0020,  ; S_IWGRP = 0020 / 0x10 - Группа может писать
	ГруппаИсполнять 0010,  ; S_IXGRP = 0010 / 0x8  - Группа может исполнять
	ГруппаВсе       0070,  ; S_IRWXG = 0070 / 0x38 - Группа может всё

	ЧужиеЧитать     0004,  ; S_IROTH = 0004 / 0x4 - Остальные могут читать
	ЧужиеПисать     0002,  ; S_IWOTH = 0002 / 0x2 - Остальные могут писать
	ЧужиеИсполнять  0001,  ; S_IXOTH = 0001 / 0x1 - Остальные могут исполнять
	ЧужиеВсе        0007,  ; S_IRWXO = 0007 / 0x7 - Остальные могут всё

	УстСамОН        04000, ; S_ISUID = 04000 / 0x800 - Set-user-ID (при исполнении получает права владельца)
	УстГруппаОН     02000, ; S_ISGID = 02000 / 0x400 - Set-group-ID (при исполнении получает права группы)
	НуТипа          01000, ; S_ISVTX = 01000 / 0x200 - Sticky bit (для директорий: удалять могут только владельцы)
)

счет ФайлОт (
	Начала	0,
	Щас		1,
	Конца	2,
)

фц __АСМ открытьф(имя: стр флаги: счет ФлгиФйлв права: счет ПраваФйлв) ц32 ( _асм "
	обмн рди рси ; имя и флаги
	быть рдх е8  ; права
	быть еах 2   ; open
	сзов
")

фц __АСМ идтиф(файл: ц32 насколько: ч64 откуда: счет ФайлОт) ч64 ( _асм "
	обмн рди рси
	быть едх е8
	быть еах 8
	сзов ; lseek
")

фц __АСМ читатьф(откуда: ц32 куда: стр раз: ч64) тлен ( _асм "
	обмн рди рси
	быть рдх р8  ; раз
	искл еах еах ; read
	сзов
")

фц __АСМ писатьф(куда: ц32 что: стр раз: ч64) тлен ( _асм "
	обмн рди рси
	быть рдх р8  ; раз
	искл еах еах ++еах ; write
	сзов
")

фц __АСМ закрытьф(файл: ц32) ц32 ( _асм "
	быть еди еси
	быть еах 3 ; close
	сзов
")
