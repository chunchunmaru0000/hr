пусть __МИНУС: [ц8 2] = *"-",
пусть __ЧИСЛО_НА_ВЫВОД: [ц8 24] = [
	0,0,0,0, 0,0,0,0,
	0,0,0,0, 0,0,0,0,
	0,0,0,0, 0,0,0,0,
],
; ПОМНИТЬ: функция вывода числа должна идти перед выводом числа, потому что иначе
; при попытке вызвать вещать(0) вызовет вывод строки, с нул указателем
фц __АСМ вещать(число: ч64) тлен (
_асм "
	быть рбх рси
	проб рбх рбх
	идн0 __ВЫВОД_НЕ_0

	быть рси __ЧИСЛО_НА_ВЫВОД__[ц8_24]
	быть байт(рси) \"0\"
	искл рсх рсх ++рсх
	идти __КОНЕЧНЫЙ_ВЫВОД_ЧИСЛА

__ВЫВОД_НЕ_0:
	иднз __ВЫВОД_БЕЗ_ЗНАКА

	искл еах еах ++еах ; еах = 1
	быть еди еах
	быть рси __МИНУС__[ц8_2]
	быть рдх еах ; длина минуса(1)
	сзов
	нег рбх

__ВЫВОД_БЕЗ_ЗНАКА:
	быть рах рбх ; число на вывод
	быть рси __ЧИСЛО_НА_ВЫВОД__[ц8_24] + 24
	искл есх есх
	быть рди 10

	__ВЫВОД_ОДНОЙ_ЦИФРЫ:
		--рси
		++есх
		искл рдх рдх
		дел рди ; / 10

		плюс дл \"0\"
		быть (рси) дл
	проб рах рах
	идн0 __ВЫВОД_ОДНОЙ_ЦИФРЫ

__КОНЕЧНЫЙ_ВЫВОД_ЧИСЛА:
	искл еах еах ++еах	; еах = 1
	быть еди еах
						; рси уже где надо
	быть рдх рсх
	сзов
"
)

; TODO: выывод (нул) если 0
фц __АСМ вещать(строка: стр) тлен (
_асм "
	быть рди рси
	искл еах еах
	искл рсх рсх
	не рсх
	орф
	повтн0 осмсб
	быть рдх рди

	++еах 				; еах = write(1)
	быть еди еах	 	; еди = stdout(1)
						; рси строка
	минс рдх рси --едх	; длина строки
	сзов
"
)
