участок чит изм

__МИНУС__[ц8_2]:
	пусть байт "-" 0
__ЧИСЛО_НА_ВЫВОД__[ц8_24]:
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
участок чит изм

очистка_консоли_и_перевод_в_начало__ук_ц8:
	пусть вбайт _у0
Эээ__ук_ц8:
	пусть вбайт _у1
жизнь__ук_ц8:
	пусть вбайт _у2
смерть__ук_ц8:
	пусть вбайт _у3
поле__[[ч8_16]_16]:
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 1	; 0x00000001
	пусть байт 1	; 0x00000001
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 1	; 0x00000001
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 1	; 0x00000001
	пусть байт 0	; 0x00000000
	пусть байт 1	; 0x00000001
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 1	; 0x00000001
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 1	; 0x00000001
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 1	; 0x00000001
	пусть байт 1	; 0x00000001
	пусть байт 1	; 0x00000001
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 1	; 0x00000001
	пусть байт 1	; 0x00000001
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 1	; 0x00000001
	пусть байт 1	; 0x00000001
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
	пусть байт 0	; 0x00000000
эволюция__[[ч8_16]_16]:
	пусть байт запас 0 16
	пусть байт запас 0 16
	пусть байт запас 0 16
	пусть байт запас 0 16
	пусть байт запас 0 16
	пусть байт запас 0 16
	пусть байт запас 0 16
	пусть байт запас 0 16
	пусть байт запас 0 16
	пусть байт запас 0 16
	пусть байт запас 0 16
	пусть байт запас 0 16
	пусть байт запас 0 16
	пусть байт запас 0 16
	пусть байт запас 0 16
	пусть байт запас 0 16
участок чит изм

запятая__ук_ц8:
	пусть вбайт _у4
_у0:
	пусть байт "\x1B[H" 0
_у1:
	пусть байт "Эээ world\n" 0
_у2:
	пусть байт "██" 0
_у3:
	пусть байт "  " 0
_у4:
	пусть байт ", " 0

участок чит исп

вещать__{ч64_тлен}:

	быть рбх рси
	проб рбх рбх
	идн0 __ВЫВОД_НЕ_0

	быть рси __ЧИСЛО_НА_ВЫВОД__[ц8_24]
	быть байт(рси) "0"
	искл рсх рсх ++рсх
	идти __КОНЕЧНЫЙ_ВЫВОД_ЧИСЛА

__ВЫВОД_НЕ_0:
	иднз __ВЫВОД_БЕЗ_ЗНАКА

	искл еах еах ++еах ; еах = 1
	быть еди еах
	быть рси __МИНУС__[ц8_2]
	быть рдх еах ; длина минуса(1)
	сзов
	нег рбх

__ВЫВОД_БЕЗ_ЗНАКА:
	быть рах рбх ; число на вывод
	быть рси __ЧИСЛО_НА_ВЫВОД__[ц8_24] + 24
	искл есх есх
	быть рди 10

	__ВЫВОД_ОДНОЙ_ЦИФРЫ:
		--рси
		++есх
		искл рдх рдх
		дел рди ; / 10

		плюс дл "0"
		быть (рси) дл
	проб рах рах
	идн0 __ВЫВОД_ОДНОЙ_ЦИФРЫ

__КОНЕЧНЫЙ_ВЫВОД_ЧИСЛА:
	искл еах еах ++еах	; еах = 1
	быть еди еах
						; рси уже где надо
	быть рдх рсх
	сзов
	возд

вещать__{ук_ц8_тлен}:

	быть рди рси
	искл еах еах
	искл рсх рсх
	не рсх
	орф
	повтн0 осмсб
	быть рдх рди

	++еах 				; еах = write(1)
	быть еди еах	 	; еди = stdout(1)
						; рси строка
	минс рдх рси --едх	; длина строки
	сзов
	возд

прервать__{тлен}:

	искл рах рах
	быть вбайт (рбп -16) рах

	быть рах вбайт 50_000_000
	быть вбайт (рбп -8) рах

	быть еах 35
	задр рди (рбп -16)
	искл рси рси
	сзов
	возд

вывести_поле__{тлен}:
	толк рбп
	быть рбп рсп
	минс рсп 8	; 0x00000008
	вот х -4	; 0xfffffffc
	вот у -8	; 0xfffffff8
	; вещать(очистка_консоли_и_перевод_в_начало)
	быть рах вбайт (очистка_консоли_и_перевод_в_начало__ук_ц8)
	быть рси рах
	зов вещать__{ук_ц8_тлен}
	; х => (0 ... 16) ( ... )
	; (х => 0)
	быть чбайт (рбп х) 0	; 0x00000000
	идти _и1
	_и0:
		; у => (0 ... 16) ( ... )
		; (у => 0)
		быть чбайт (рбп у) 0	; 0x00000000
		идти _и3
		_и2:
			; вещать({поле[х][у] ? жизнь : смерть})
			быть рах чбайт (рбп у)
			быть рсх чбайт (рбп х)
			сдал рсх 4	; 0x00000004
			плюс рсх рах
			быть рсх байт (рсх поле__[[ч8_16]_16])
			проб рсх рсх
			ид0 _и4
			быть рах вбайт (жизнь__ук_ц8)
			идти _и5
			_и4:
			быть рах вбайт (смерть__ук_ц8)
			_и5:
			быть рси рах
			зов вещать__{ук_ц8_тлен}
		плюс чбайт (рбп у) 1	; 0x00000001
		_и3:
		срав чбайт (рбп у) 16	; 0x00000010
		идм _и2
		; (вещать(Эээ))
		быть рах вбайт (Эээ__ук_ц8)
		быть рси рах
		зов вещать__{ук_ц8_тлен}
	плюс чбайт (рбп х) 1	; 0x00000001
	_и1:
	срав чбайт (рбп х) 16	; 0x00000010
	идм _и0
	выйти
	возд

живых_рядом__{ч32_ч32_ч32}:
	толк рбп
	быть рбп рсп
	вот х -4	; 0xfffffffc
	быть (рбп х) еси
	вот у -8	; 0xfffffff8
	быть (рбп у) еди
	вот ь -12	; 0xfffffff4
	вот ъ -16	; 0xfffffff0
	вот живых -20	; 0xffffffec
	; (живых = 0)
	быть чбайт (рбп живых) 0	; 0x00000000
	; ь => (-1 ..= 1) ( ... )
	; (ь => -1)
	быть чбайт (рбп ь) -1	; 0xffffffff
	идти _и7
	_и6:
		; ъ => (-1 ..= 1) ( ... )
		; (ъ => -1)
		быть чбайт (рбп ъ) -1	; 0xffffffff
		идти _и9
		_и8:
			; ?? (ь || ъ)
			быть еах чбайт (рбп ь)
			проб еах еах
			идн0 _и11
			быть еах чбайт (рбп ъ)
			проб еах еах
			ид0 _и10
			_и11:
				; (живых += (живых += поле[(((х + ь) + 16) % 16)][(((у + ъ) + 16) % 16)]))
				быть еах чбайт (рбп ъ)
				плюс еах чбайт (рбп у)
				плюс еах 16	; 0x00000010
				быть есх 16	; 0x00000010
				превчв
				здел есх
				быть рдх едх
				быть еах чбайт (рбп ь)
				плюс еах чбайт (рбп х)
				плюс еах 16	; 0x00000010
				быть есх 16	; 0x00000010
				быть рбх рдх
				превчв
				здел есх
				сдал рдх 4	; 0x00000004
				плюс рдх рбх
				быть рдх байт (рдх поле__[[ч8_16]_16])
				быть еах чбайт (рбп живых)
				перечв
				плюс рдх рах
				быть чбайт (рбп живых) едх
			_и10:
		плюс чбайт (рбп ъ) 1	; 0x00000001
		_и9:
		срав чбайт (рбп ъ) 1	; 0x00000001
		идмр _и8
	плюс чбайт (рбп ь) 1	; 0x00000001
	_и7:
	срав чбайт (рбп ь) 1	; 0x00000001
	идмр _и6
	; живых
	быть еах чбайт (рбп живых)
	выт рбп
	возд

пережить__{тлен}:
	толк рбп
	быть рбп рсп
	минс рсп 12	; 0x0000000c
	вот х -4	; 0xfffffffc
	вот у -8	; 0xfffffff8
	вот живых -12	; 0xfffffff4
	; х => (0 ... 16) ( ... )
	; (х => 0)
	быть чбайт (рбп х) 0	; 0x00000000
	идти _и13
	_и12:
		; у => (0 ... 16) ( ... )
		; (у => 0)
		быть чбайт (рбп у) 0	; 0x00000000
		идти _и15
		_и14:
			; (живых = живых_рядом(х, у))
			быть еах чбайт (рбп х)
			быть есх чбайт (рбп у)
			быть рси рах
			быть рди рсх
			зов живых_рядом__{ч32_ч32_ч32}
			быть чбайт (рбп живых) еах
			; (эволюция[х][у] = {поле[х][у] ? ((живых == 2) || (живых == 3)) : (живых == 3)})
			быть рах чбайт (рбп у)
			быть рсх чбайт (рбп х)
			сдал рсх 4	; 0x00000004
			плюс рсх рах
			быть рсх байт (рсх поле__[[ч8_16]_16])
			проб рсх рсх
			ид0 _и16
			срав чбайт (рбп живых) 2	; 0x00000002
			идр _и18
			срав чбайт (рбп живых) 3	; 0x00000003
			иднр _и19
			_и18:
			искл еах еах
			++еах
			идти _и20
			_и19:
			искл еах еах
			_и20:
			идти _и17
			_и16:
			срав чбайт (рбп живых) 3	; 0x00000003
			устр ал
			_и17:
			быть рсх чбайт (рбп у)
			быть рдх чбайт (рбп х)
			сдал рдх 4	; 0x00000004
			плюс рдх рсх
			быть байт (рдх эволюция__[[ч8_16]_16]) ал
		плюс чбайт (рбп у) 1	; 0x00000001
		_и15:
		срав чбайт (рбп у) 16	; 0x00000010
		идм _и14
	плюс чбайт (рбп х) 1	; 0x00000001
	_и13:
	срав чбайт (рбп х) 16	; 0x00000010
	идм _и12
	; х => (0 ... 16) ( ... )
	; (х => 0)
	быть чбайт (рбп х) 0	; 0x00000000
	идти _и22
	_и21:
		; у => (15 ..= 0 назад) ( ... )
		; (у => 15)
		быть чбайт (рбп у) 15	; 0x0000000f
		идти _и24
		_и23:
			; (поле[х][у] = эволюция[х][у])
			быть рах чбайт (рбп у)
			быть рсх чбайт (рбп х)
			сдал рсх 4	; 0x00000004
			плюс рсх рах
			быть рсх байт (рсх эволюция__[[ч8_16]_16])
			быть рах чбайт (рбп у)
			быть рдх чбайт (рбп х)
			сдал рдх 4	; 0x00000004
			плюс рдх рах
			быть байт (рдх поле__[[ч8_16]_16]) сл
		минс чбайт (рбп у) 1	; 0x00000001
		_и24:
		срав чбайт (рбп у) 0	; 0x00000000
		идбр _и23
	плюс чбайт (рбп х) 1	; 0x00000001
	_и22:
	срав чбайт (рбп х) 16	; 0x00000010
	идм _и21
	выйти
	возд

вход глав глав:глав__{ч32_ук_ук_ц8_тлен}:
	толк рбп
	быть рбп рсп
	минс рсп 12	; 0x0000000c
	вот аргов -4	; 0xfffffffc
	быть (рбп аргов) еси
	вот арги -12	; 0xfffffff4
	быть (рбп арги) рди
	_в0:
		; вывести_поле()
		зов вывести_поле__{тлен}
		; пережить()
		зов пережить__{тлен}
		; прервать()
		зов прервать__{тлен}
	идти _в0
	выйти
	возд

