#влечь (
	"ведать.ср"
	"выход.ср"
)

_асм "
вход глав
глав:"

ведать эээ world ,
выйти с кодом 77 .

лик Раб (
	возр: ч32
	имя: [ц8 20]
	копейки: в64
)

лик Начальник (
	рабы: [&лик Раб 10]
	рабов: ч32
	лох: лик Раб
)

лик Галера (
	гандоны: [&лик Начальник 5]
	хуйло: лик Начальник
	название: [ц8 50]
)

пусть гг: &лик Галера = *{},
пусть гг_ук: лик Галера = &гг,
пусть гчисла: [ч32 100] = [],
пусть грабы: [&лик Раб 20] = [],

фц просто_индекс() (
	гчисла[3] = 42,
	гг-@гандоны[2]-@рабов = 5,
    гг_ук->гандоны[1]-@рабы[3]-@возр = 30;
)

фц тест_переменная_как_индекс() (
	пусть ( ь ъ: ч32 )
	ь = 2, ъ = 3,
	гчисла[ь] = 100,
	гг-@гандоны[ь]-@рабы[ъ]-@копейки = 50000.0,
	гг_ук->гандоны[0]-@рабы[ь]-@возр = 25,
)

фц тест_указателя_индекс() (
	пусть ( ь: ч32 ук_раб: лик Раб )
	ь = 5,
	ук_раб = &грабы,
	ук_раб[ь]-@возр = 35,
	гг_ук->хуйло->рабы[ь]-@копейки = 75000.0,
)

фц тест_нескольок_индексов() (
    гг-@гандоны[0]-@рабы[1]-@имя[0] = 65,
    гг_ук->гандоны[2]-@лох[0]-@возр = 28,
)

фц тест_чето_да_сложно0() (
	пусть ( ь: ч32 глера: &лик Галера ук_глера: лик Галера )
	ь = 4,
	ук_глера = &глера

    глера-@гандоны[ь]-@рабов = 8,
    ук_глера->гандоны[1]-@рабы[2]-@возр = 32,
    грабы[ь]-@копейки = 45000.0,
)

фц тест_поле_указателя() (
	пусть (
		ь: ч32
		массив_гандонов: [лик Начальник 3]
		уу_глра: *лик Галера
	)
	ь = 1,
    гг_ук->название[0] = 67,
    массив_гандонов[ь]->рабов = 6,
	уу_глра = &гг_ук,
    (*уу_глра)->гандоны[0]-@рабов = 10,
)

фц тест_чето_да_сложно1() (
    пусть ( ь: ч32 ук_массив_рабов: *[&лик Раб 20] )
    гчисла[0] = 999,
    ь = 99,
    гчисла[ь] = 111,
    гг-@гандоны[0]-@рабы[0]-@имя[0] = 66,
    ук_массив_рабов = &грабы,
    (*ук_массив_рабов)[5]-@возр = 40,
)

фц тест_индексов_много() (
	пусть ( ь ъ к: ч32 чмо: [[[ч32 5] 10] 15] глеры: [&лик Галера 3] )
	ь = 1, ъ = 2, к = 3,
    чмо[ь][ъ][к] = 123;
    глеры[ь]-@гандоны[ъ]-@рабы[к]-@возр = 29;
)
